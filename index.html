<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>DealScope â€“ Universal Affiliate Scanner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<style>
body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  background:#0f1220;
  color:#fff;
  margin:0;
  padding:20px;
}

h1{margin-bottom:4px}
.subtitle{color:#a5b4fc;margin-bottom:4px}
.status{font-size:12px;color:#9ca3af;margin-bottom:12px}

.integrity{
  display:inline-block;
  font-size:12px;
  background:#0b3b2e;
  color:#5eead4;
  padding:6px 10px;
  border-radius:8px;
  margin-bottom:14px;
}

.controls{
  display:flex;
  gap:10px;
  margin:16px 0;
  flex-wrap:wrap;
}

select{
  padding:8px;
  border-radius:6px;
  border:none;
}

table{
  width:100%;
  border-collapse:collapse;
  background:#161a33;
  border-radius:12px;
  overflow:hidden;
}

th,td{
  padding:12px;
  border-bottom:1px solid #2a2f55;
  vertical-align:top;
}

th{background:#1d2245}
tr:hover{background:#1b2050}

.badge{
  padding:4px 8px;
  border-radius:6px;
  font-size:12px;
  font-weight:700;
  display:inline-block;
  animation:fadeIn .18s ease-out;
}

.badge.green{background:#22c55e;color:#000}
.badge.orange{background:#f97316;color:#000}
.badge.red{background:#dc2626}

.buy-btn{
  background:#22c55e;
  color:#000;
  border:none;
  padding:8px 14px;
  border-radius:6px;
  font-weight:700;
  cursor:pointer;
}

.verify-line{
  margin-top:4px;
  font-size:13px;
  color:#cbd5f5;
  display:flex;
  align-items:center;
  gap:6px;
  white-space:nowrap;
  animation:slideFade .2s ease-out;
}

.verify-icon{
  font-size:14px;
  opacity:.9;
}

.info{
  margin-left:6px;
  cursor:pointer;
  font-size:12px;
  color:#93c5fd;
}

.info-box{
  display:none;
  font-size:12px;
  color:#c7d2fe;
  margin-top:4px;
}

footer{
  margin-top:32px;
  font-size:12px;
  color:#9ca3af;
  text-align:center;
  line-height:1.6;
}

@keyframes slideFade{
  from{opacity:0;transform:translateY(-4px)}
  to{opacity:1;transform:none}
}
@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}
</style>
</head>

<body>

<h1>DealScope</h1>
<div class="subtitle">Automated deal validation engine</div>
<div class="status">ðŸŸ¢ No accounts Â· No tracking Â· Automated integrity rules</div>

<div class="integrity" id="integrityBadge"></div>

<div class="controls">
<select id="sortSelect" onchange="applySort()">
  <option value="discount">ðŸ”¥ Best discount</option>
  <option value="commission">ðŸ“ˆ Highest commission</option>
  <option value="trust">ðŸ›¡ Highest trust</option>
</select>

<select id="currencySelect" onchange="setCurrency(this.value)">
  <option value="USD">USD $</option>
  <option value="EUR">EUR â‚¬</option>
  <option value="GBP">GBP Â£</option>
</select>
</div>

<table>
<thead>
<tr>
  <th>Product</th>
  <th>Price</th>
  <th>Market ref.</th>
  <th>Discount</th>
  <th>Validation</th>
  <th>Action</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

<footer>
<strong>Legal & Integrity Disclosure (UK/EU)</strong><br>
DealScope operates as an automated validation engine analysing publicly available
commercial and affiliate data using predefined integrity rules.
No recommendations, guarantees or advice are provided.
</footer>

<script>
/* Integrity certificate */
const CERT_VALIDITY_HOURS=24;
const lastCheck=localStorage.getItem("integrityCheck")||Date.now();
localStorage.setItem("integrityCheck",lastCheck);
const hoursAgo=(Date.now()-lastCheck)/36e5;
integrityBadge.textContent=
hoursAgo<=CERT_VALIDITY_HOURS
?"ðŸ›¡ Integrity verified Â· checked within last 24h"
:"âš  Integrity expired Â· revalidation pending";

/* Currency */
const rates={USD:1,EUR:.92,GBP:.79};
const symbols={USD:"$",EUR:"â‚¬",GBP:"Â£"};
let currency=localStorage.getItem("currency")||"USD";
currencySelect.value=currency;
const fx=v=>(v*rates[currency]).toFixed(2);
function setCurrency(c){currency=c;localStorage.setItem("currency",c);applySort()}

/* Data */
let feed=[
{name:"Nike Air Zoom Pegasus",price:70,market:101,store:"Nike",trust:95,commission:.04,url:"https://nike.com"},
{name:"Oversized Hoodie",price:30,market:54,store:"Zalando",trust:90,commission:.08,url:"https://zalando.com"},
{name:"Wireless Headphones",price:46,market:78,store:"Amazon",trust:92,commission:.04,url:"https://amazon.com"}
];

const discount=p=>Math.round((1-p.price/p.market)*100);

/* Verdict */
function verdict(p){
 if(discount(p)>=40&&p.trust>=85)return{text:"VALIDATED DEAL",cls:"green"};
 if(discount(p)>=25)return{text:"PARTIALLY VALID",cls:"orange"};
 return{text:"NOT VALIDATED",cls:"red"};
}

function verifyText(p){
 return "Automatically validated: price consistency, market reference & merchant reliability";
}

/* Render */
function applySort(){
 let list=[...feed];
 const v=sortSelect.value;
 if(v==="discount")list.sort((a,b)=>discount(b)-discount(a));
 if(v==="commission")list.sort((a,b)=>b.commission-a.commission);
 if(v==="trust")list.sort((a,b)=>b.trust-a.trust);
 render(list);
}

function render(list){
 tableBody.innerHTML="";
 list.forEach(p=>{
 const v=verdict(p);
 tableBody.innerHTML+=`
<tr>
<td>
<b>${p.name}</b><br>
<small>${p.store}</small>
<div class="verify-line">
<span class="verify-icon">ðŸ›¡</span>
<span>${verifyText(p)}</span>
<span class="info" onclick="toggleInfo(this)">i</span>
</div>
<div class="info-box">
Data validated automatically. No recommendation or guarantee implied.
</div>
</td>
<td>${symbols[currency]}${fx(p.price)}</td>
<td>${symbols[currency]}${fx(p.market)}</td>
<td><span class="badge green">-${discount(p)}%</span></td>
<td><span class="badge ${v.cls}">${v.text}</span></td>
<td><button class="buy-btn" onclick="window.open('${p.url}','_blank')">View offer</button></td>
</tr>`;
 });
}

function toggleInfo(el){
 const box=el.parentElement.nextElementSibling;
 box.style.display=box.style.display==="block"?"none":"block";
}

applySort();
</script>

</body>
</html>