<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>OMNISCAN ‚Äì Ultra Quantum</title>
<style>
body { background:#000; color:#0f0; font-family:monospace; padding:10px; }
h1 { color:#0ff; }
.signal { border-bottom:1px solid #0f0; padding:8px 0; }
.risk { color:red; }
.early { color:orange; }
.address { background:#111; color:#0f0; border:none; width:100%; }
button { margin-top:4px; cursor:pointer; }
</style>
</head>
<body>

<h1>OMNISCAN ‚Äì Meme Coins Ultra Mega Quantum</h1>
<div id="output">Scanning...</div>

<script>

const MAIN_THRESHOLD = 60;
const EARLY_THRESHOLD = 45;

function copyAddr(id){
  const el = document.getElementById(id);
  navigator.clipboard.writeText(el.value);
  alert("Address copied");
}

async function fetchBinance(){
  try{
    const res = await fetch("https://api.binance.com/api/v3/ticker/24hr");
    const data = await res.json();

    const memeKeywords = ["DOGE","SHIB","PEPE","FLOKI","BONK"];

    return data
      .filter(t =>
        t.symbol.endsWith("USDT") &&
        memeKeywords.some(k => t.symbol.includes(k))
      )
      .map(t=>{
        const price = parseFloat(t.lastPrice);
        const volume = parseFloat(t.quoteVolume);
        const score =
          (volume > 1000000 ? 40 : 10) +
          (parseFloat(t.priceChangePercent) > 3 ? 30 : 0);

        return {
          symbol: t.symbol,
          price,
          address: t.symbol,
          mcap: "$" + volume.toLocaleString(),
          score: Math.min(100,score),
          rugpull: false
        };
      });

  }catch(e){
    return [];
  }
}

async function fetchSolana(){
  try{
    const res = await fetch("https://api.dexscreener.com/latest/dex/search/?q=SOL");
    const data = await res.json();

    if(!data.pairs) return [];

    return data.pairs.slice(0,50).map(p=>{
      const liquidity = parseFloat(p.liquidity?.usd || 0);
      const volume = parseFloat(p.volume?.h24 || 0);

      const score =
        (liquidity > 5000 ? 30 : 0) +
        (volume > 2000 ? 30 : 0);

      return {
        symbol: p.baseToken.symbol,
        price: parseFloat(p.priceUsd),
        address: p.baseToken.address,
        mcap: p.fdv ? "$"+Number(p.fdv).toLocaleString() : "N/A",
        score: Math.min(100,score),
        rugpull: liquidity < 1500
      };
    });

  }catch(e){
    return [];
  }
}

async function runScanner(){
  const output = document.getElementById("output");

  const binance = await fetchBinance();
  const solana = await fetchSolana();

  let signals = [...binance, ...solana]
    .filter(t => t.score >= EARLY_THRESHOLD)
    .sort((a,b)=>b.score-a.score)
    .slice(0,5);

  if(signals.length === 0){
    output.innerHTML = "‚ö†Ô∏è Nicio oportunitate nouƒÉ momentan.";
    return;
  }

  output.innerHTML = signals.map((s,i)=>{

    const early = s.score < MAIN_THRESHOLD;

    return `
      <div class="signal">
        üöÄ ${s.symbol} |
        Score: ${s.score}% |
        Price: ${s.price} |
        MCap: ${s.mcap}
        ${s.rugpull ? '<span class="risk"> ‚ö†Ô∏è Risc Rugpull</span>' : ''}
        ${early ? '<span class="early"> ‚ö†Ô∏è Early Hunter</span>' : ''}
        <br>
        <input id="addr${i}" value="${s.address}" readonly class="address">
        <button onclick="copyAddr('addr${i}')">Copy Address</button>
      </div>
    `;

  }).join("");
}

runScanner();
setInterval(runScanner,60000);

</script>
</body>
</html>