<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ThinSkin</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at top, #0f1a2b, #050b18);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.screen {
  display: none;
  flex-direction: column;
  align-items: center;
  text-align: center;
  width: 90%;
  max-width: 420px;
}

h1 { margin-bottom: 6px; }
p { opacity: 0.75; }

button {
  margin-top: 24px;
  padding: 16px 38px;
  border-radius: 14px;
  border: none;
  font-size: 17px;
  font-weight: 600;
  background: #22c55e;
  color: #000;
  cursor: pointer;
}

button.locked {
  opacity: 0.4;
  pointer-events: none;
}

.link {
  margin-top: 14px;
  font-size: 13px;
  opacity: 0.6;
  cursor: pointer;
}

.challenge {
  font-size: 18px;
  margin: 24px 0;
}

label {
  margin-top: 20px;
  cursor: pointer;
}

.progress {
  margin-top: 16px;
  font-size: 15px;
  opacity: 0.8;
}

.disclaimer {
  position: fixed;
  bottom: 14px;
  font-size: 11px;
  opacity: 0.45;
  text-align: center;
  max-width: 90%;
}

.footer-links {
  position: fixed;
  bottom: 40px;
  display: flex;
  gap: 16px;
  font-size: 11px;
  opacity: 0.5;
}

.footer-links span {
  cursor: pointer;
}
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="screen">
  <h1>ThinSkin</h1>
  <p>A private space for daily discipline.</p>
  <button id="start">Start</button>
</div>

<!-- DAILY -->
<div id="daily" class="screen">
  <h1 id="dayTitle"></h1>
  <div class="challenge" id="challengeText"></div>

  <label>
    <input type="checkbox" id="doneCheck"> I did this today
  </label>

  <button id="confirmBtn" class="locked">Confirm</button>
  <div class="progress" id="streakInfo"></div>
</div>

<!-- LOCKED -->
<div id="locked" class="screen">
  <h1>Done for today</h1>
  <p>Come back tomorrow.</p>
</div>

<!-- POLICY -->
<div id="policy" class="screen">
  <h1 id="policyTitle"></h1>
  <p id="policyText" style="font-size:14px; line-height:1.6;"></p>
  <button onclick="goHome()">Back</button>
</div>

<!-- FOOTER -->
<div class="footer-links">
  <span onclick="showPolicy('privacy')">Privacy</span>
  <span onclick="showPolicy('terms')">Policy</span>
</div>

<div class="disclaimer">
  This is a personal experimental project. It does not provide advice, treatment, or guarantees.
</div>

<script>
// ================= DATA =================
const challenges = [
  "Do one uncomfortable thing in silence.",
  "Finish something without seeking validation.",
  "Repeat yesterdayâ€™s effort, even if imperfect.",
  "Choose discipline over comfort once today.",
  "Do the task without explaining yourself.",
  "Show up even if motivation is gone."
];

// ================= STATE =================
let state = JSON.parse(localStorage.getItem("thinskin")) || {
  streak: 0,
  lastDate: null
};

// ================= ELEMENTS =================
const home = document.getElementById("home");
const daily = document.getElementById("daily");
const locked = document.getElementById("locked");
const policy = document.getElementById("policy");

const challengeText = document.getElementById("challengeText");
const dayTitle = document.getElementById("dayTitle");
const check = document.getElementById("doneCheck");
const confirmBtn = document.getElementById("confirmBtn");
const streakInfo = document.getElementById("streakInfo");

// ================= HELPERS =================
function today() {
  return new Date().toISOString().slice(0,10);
}

function save() {
  localStorage.setItem("thinskin", JSON.stringify(state));
}

function show(screen) {
  [home, daily, locked, policy].forEach(s => s.style.display = "none");
  screen.style.display = "flex";
}

// ================= LOGIC =================
function loadDaily() {
  const t = today();

  if (state.lastDate === t) {
    show(locked);
    return;
  }

  if (state.lastDate) {
    const diff = (new Date(t) - new Date(state.lastDate)) / 86400000;
    if (diff > 1) state.streak = 0;
  }

  const challenge = challenges[Math.floor(Math.random()*challenges.length)];
  challengeText.textContent = challenge;
  dayTitle.textContent = "Day " + (state.streak + 1);
  streakInfo.textContent = "Current streak: " + state.streak;

  check.checked = false;
  confirmBtn.classList.add("locked");

  show(daily);
}

check.onchange = () => {
  confirmBtn.classList.toggle("locked", !check.checked);
};

confirmBtn.onclick = () => {
  state.streak++;
  state.lastDate = today();
  save();
  show(locked);
};

document.getElementById("start").onclick = loadDaily;

// ================= POLICY =================
function showPolicy(type) {
  show(policy);
  if (type === "privacy") {
    policyTitle.textContent = "Privacy Policy";
    policyText.textContent =
      "ThinSkin does not collect, store, or transmit any personal data. " +
      "All progress is stored locally on your device using browser storage. " +
      "No analytics, cookies, accounts, or tracking are used.";
  } else {
    policyTitle.textContent = "Usage Policy";
    policyText.textContent =
      "ThinSkin is a personal experimental project intended for self-reflection only. " +
      "It does not provide medical, psychological, financial, or professional advice. " +
      "Use at your own discretion. No guarantees or outcomes are implied.";
  }
}

function goHome() {
  show(home);
}

// ================= INIT =================
show(home);
</script>

</body>
</html>