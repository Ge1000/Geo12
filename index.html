<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ThinSkin</title>

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: radial-gradient(circle at top, #0b1a2d, #020812);
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  text-align: center;
}

.screen { display: none; max-width: 320px; }
.screen.active { display: block; }

button {
  background: #22c55e;
  border: none;
  color: #000;
  padding: 16px 28px;
  border-radius: 14px;
  font-size: 18px;
  margin-top: 24px;
}

.small { opacity: .6; font-size: 12px; margin-top: 40px; }
.challenge { font-size: 20px; margin-top: 20px; }
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="screen active">
  <h1>ThinSkin</h1>
  <p>A private space for daily discipline.</p>
  <button id="startBtn">Start</button>
  <div class="small">This is a personal experimental project.</div>
</div>

<!-- CHALLENGE -->
<div id="challenge" class="screen">
  <h2 id="levelText"></h2>
  <div class="challenge" id="challengeText"></div>
  <button id="doneBtn">I did this today</button>
</div>

<!-- DONE -->
<div id="done" class="screen">
  <h2>Done for today</h2>
  <p>Come back tomorrow.</p>
</div>

<!-- COMPLETED -->
<div id="completed" class="screen">
  <h2>Completed</h2>
  <p>You reached the end. Most people donâ€™t.</p>
  <button id="restartBtn">Restart</button>
</div>

<script>
/* ---------------- DATA ---------------- */

const challenges = [
  "Wake up without your phone for 10 minutes.",
  "Take a cold splash on your face.",
  "Walk 10 minutes without music.",
  "Do 20 pushups (or try).",
  "Write one uncomfortable truth.",
  "Clean one small area.",
  "Skip sugar today.",
  "Sit in silence for 5 minutes.",
  "Go outside alone.",
  "Sleep without scrolling."
];

const MAX_LEVEL = challenges.length;

/* ---------------- STATE ---------------- */

let used = JSON.parse(localStorage.getItem("usedChallenges") || "[]");
let level = parseInt(localStorage.getItem("level") || "0");
let lastDay = localStorage.getItem("lastDay");

/* ---------------- HELPERS ---------------- */

function today() {
  return new Date().toDateString();
}

function show(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ---------------- LOGIC ---------------- */

document.getElementById("startBtn").onclick = () => {
  if (lastDay === today()) {
    show("done");
    return;
  }

  if (level >= MAX_LEVEL) {
    show("completed");
    return;
  }

  document.getElementById("levelText").innerText = "Level " + (level + 1);
  document.getElementById("challengeText").innerText = challenges[level];
  show("challenge");
};

document.getElementById("doneBtn").onclick = () => {
  used.push(level);
  level++;
  localStorage.setItem("usedChallenges", JSON.stringify(used));
  localStorage.setItem("level", level);
  localStorage.setItem("lastDay", today());
  show("done");
};

document.getElementById("restartBtn").onclick = () => {
  localStorage.clear();
  location.reload();
};

/* ---------------- INIT ---------------- */

if (lastDay === today()) {
  show("done");
}
</script>

</body>
</html>