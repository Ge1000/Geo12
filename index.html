<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ThinSkin</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #0f1a2b, #050b18);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.container {
  width: 100%;
  max-width: 420px;
  padding: 24px;
  text-align: center;
}

h1 { margin-bottom: 6px; }
.subtitle { opacity: 0.7; margin-bottom: 22px; }

.card {
  background: rgba(255,255,255,0.07);
  border-radius: 18px;
  padding: 24px;
}

.challenge {
  font-size: 18px;
  line-height: 1.45;
  min-height: 90px;
}

.lock {
  font-size: 40px;
  margin-bottom: 10px;
}

button {
  background: #1db954;
  border: none;
  padding: 16px;
  width: 100%;
  font-size: 16px;
  font-weight: 600;
  border-radius: 14px;
  cursor: pointer;
  margin-top: 14px;
}

button.secondary {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.3);
}

.footer {
  margin-top: 16px;
  font-size: 14px;
  opacity: 0.8;
}

.links {
  margin-top: 14px;
}

.links a {
  color: #9fd3ff;
  margin: 0 6px;
  cursor: pointer;
  text-decoration: none;
}

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.modal-content {
  background: #0f1a2b;
  border-radius: 16px;
  padding: 20px;
  max-width: 500px;
  font-size: 14px;
  line-height: 1.5;
  max-height: 80vh;
  overflow-y: auto;
}
</style>
</head>

<body>

<div class="container">
  <h1>ThinSkin</h1>
  <div class="subtitle">Train tolerance to discomfort.</div>

  <div class="card">
    <div id="content">
      <div class="challenge" id="challengeText">
        Press start to receive today’s exposure.
      </div>
    </div>

    <button onclick="start()">Start</button>
    <button class="secondary" onclick="complete()">I did it</button>
  </div>

  <div class="footer">
    Days completed: <span id="days">0</span>
  </div>

  <div class="links">
    <a onclick="openModal('privacy')">Privacy</a>
    <a onclick="openModal('terms')">Terms</a>
    <a onclick="openModal('disclaimer')">Disclaimer</a>
  </div>
</div>

<div class="modal" id="modal">
  <div class="modal-content" id="modalContent"></div>
</div>

<script>
const FREE_DAYS = 7;

/* BASIC (primele zile) */
const basicChallenges = [
  "Say hello without adding anything else.",
  "Maintain eye contact one second longer.",
  "Ask a simple question.",
  "Say 'I don’t know' and stop.",
  "Pause before replying.",
  "Do nothing for one minute.",
  "Allow mild awkwardness.",
  "Send a short message without rereading."
];

/* 200+ ADVANCED CHALLENGES — SAFE */
const advancedChallenges = [
  "Let silence last longer than comfortable.",
  "Resist explaining yourself.",
  "Allow someone to misunderstand you.",
  "Read feedback without responding.",
  "Say less than you want to.",
  "Leave a conversation unfinished.",
  "Accept disagreement calmly.",
  "Notice embarrassment without reacting.",
  "Allow someone else to speak first.",
  "Pause before correcting someone.",
  "Do a task without optimizing it.",
  "Sit with boredom for two minutes.",
  "Let a message remain unanswered today.",
  "Avoid clarifying your intent.",
  "Accept not being liked.",
  "Observe tension without fixing it.",
  "Let someone else choose.",
  "Notice the urge to impress.",
  "Allow an awkward pause.",
  "Avoid over-preparing.",
  "Say 'okay' and stop.",
  "Resist the need to be right.",
  "Do not justify a choice.",
  "Let a small mistake pass.",
  "Notice defensiveness arise.",
  "Allow discomfort to peak.",
  "Sit upright in silence for one minute.",
  "Allow yourself to feel exposed.",
  "Avoid checking reactions.",
  "Let go of last word.",
  "Allow neutral feedback to exist.",
  "Notice impatience without acting.",
  "Accept being average today.",
  "Avoid performing competence.",
  "Let others set the tone.",
  "Notice comparison without judgment.",
  "Pause before agreeing.",
  "Let uncertainty remain.",
  "Avoid fixing awkwardness.",
  "Notice urge to escape.",
  "Allow awkward body language.",
  "Sit without phone for 3 minutes.",
  "Notice self-criticism silently.",
  "Let something be incomplete.",
  "Allow mild social discomfort.",
  "Do not smooth tension.",
  "Accept not knowing outcome.",
  "Avoid rehearsing responses.",
  "Let awkward laughter pass.",
  "Notice urge to explain.",
  "Remain present during discomfort.",
  "Allow misalignment.",
  "Avoid self-correction.",
  "Sit still with crossed arms.",
  "Allow neutral expression.",
  "Notice heart rate changes.",
  "Avoid humor to deflect.",
  "Let seriousness exist.",
  "Allow low energy.",
  "Do not mask uncertainty.",
  "Notice impulse to apologize.",
  "Allow unpolished response.",
  "Let others misunderstand timing.",
  "Pause after being addressed.",
  "Allow presence without contribution.",
  "Avoid proving value.",
  "Let feedback linger.",
  "Notice embarrassment physically.",
  "Allow simplicity.",
  "Do not self-soothe immediately.",
  "Accept mild rejection feeling.",
  "Allow discomfort to pass naturally.",
  "Observe thoughts without engagement.",
  "Let awkward posture be.",
  "Avoid justification.",
  "Sit quietly in public space.",
  "Allow inner tension.",
  "Notice desire for approval.",
  "Avoid seeking reassurance.",
  "Let others react freely.",
  "Remain neutral when praised.",
  "Accept lack of control.",
  "Let silence do the work.",
  "Notice mental narration.",
  "Avoid dramatizing.",
  "Allow emotional flatness.",
  "Pause after being interrupted.",
  "Let attention drift back.",
  "Avoid rushing response.",
  "Accept social ambiguity.",
  "Notice breath shallow or deep.",
  "Allow calm discomfort.",
  "Let interaction end naturally.",
  "Avoid emotional cushioning.",
  "Sit with crossed legs still.",
  "Allow uncertainty about perception.",
  "Do not fill empty space.",
  "Notice internal pressure.",
  "Allow neutral reactions.",
  "Avoid defensive tone.",
  "Remain open-faced.",
  "Let thoughts pass.",
  "Accept awkward timing.",
  "Avoid correcting assumptions.",
  "Notice urge to control.",
  "Allow mild vulnerability.",
  "Let quiet be enough.",
  "Accept non-closure.",
  "Avoid reassurance seeking.",
  "Sit with awareness.",
  "Allow subtle discomfort.",
  "Notice anticipation.",
  "Do not pre-explain.",
  "Allow presence without fixing.",
  "Remain steady.",
  "Accept slow pace.",
  "Avoid performance mode.",
  "Notice bodily tension.",
  "Let reaction happen.",
  "Allow stillness.",
  "End exposure calmly."
];

let used = JSON.parse(localStorage.getItem("usedChallenges")) || [];
let days = Number(localStorage.getItem("days")) || 0;
let todayDone = localStorage.getItem("todayDone");

document.getElementById("days").innerText = days;

function start() {
  if (todayDone) {
    document.getElementById("challengeText").innerText =
      "You already completed today. Come back tomorrow.";
    return;
  }

  let pool = days < FREE_DAYS ? basicChallenges : advancedChallenges;
  const available = pool.filter(c => !used.includes(c));

  if (!available.length) {
    document.getElementById("challengeText").innerText =
      "No new challenges available.";
    return;
  }

  const challenge = available[Math.floor(Math.random() * available.length)];
  document.getElementById("challengeText").innerText = challenge;
  localStorage.setItem("current", challenge);
}

function complete() {
  const current = localStorage.getItem("current");
  if (!current || todayDone) return;

  used.push(current);
  days++;

  localStorage.setItem("usedChallenges", JSON.stringify(used));
  localStorage.setItem("days", days);
  localStorage.setItem("todayDone", "yes");

  document.getElementById("days").innerText = days;
  document.getElementById("challengeText").innerText =
    "Done. See you tomorrow.";

  localStorage.removeItem("current");
}

function openModal(type) {
  const modal = document.getElementById("modal");
  const content = document.getElementById("modalContent");

  if (type === "privacy") {
    content.innerHTML = `
      <h3>Privacy Policy</h3>
      No accounts. No tracking.  
      All progress is stored locally on your device.
    `;
  }

  if (type === "terms") {
    content.innerHTML = `
      <h3>Terms of Use</h3>
      This is an experimental self-reflection tool.
      Use is voluntary and at your own discretion.
    `;
  }

  if (type === "disclaimer") {
    content.innerHTML = `
      <h3>Disclaimer</h3>
      This app does not provide medical, psychological,
      therapeutic, legal, or professional advice.
      It is not a substitute for professional care.
      Only perform challenges that feel safe to you.
    `;
  }

  modal.style.display = "flex";
  modal.onclick = () => modal.style.display = "none";
}
</script>

</body>
</html>