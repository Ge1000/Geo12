<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BOMBO â€“ Independent Offer Integrity Check</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: #0f1220;
  color: #fff;
  margin: 0;
  padding: 24px;
}

h1 { margin-bottom: 4px; }
h2 { margin-top: 36px; }

.subtitle {
  color: #aaa;
  margin-bottom: 20px;
  max-width: 760px;
}

.panel {
  background: #161a33;
  border-radius: 10px;
  padding: 16px;
  margin-bottom: 20px;
}

textarea, button {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: none;
  font-size: 14px;
}

textarea {
  resize: vertical;
  min-height: 100px;
}

button {
  background: #4f7cff;
  color: white;
  font-weight: 600;
  cursor: pointer;
  margin-top: 14px;
}

.badge {
  display: inline-block;
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 12px;
}

.green { background:#1e6f4a; color:#5dff9b; }
.yellow { background:#6f5a1e; color:#ffd45d; }
.red { background:#6f1e1e; color:#ff6b6b; }

ul { padding-left:18px; }

details {
  background:#12162b;
  border-radius:8px;
  padding:10px;
  margin-top:12px;
}

summary {
  cursor:pointer;
  font-weight:600;
  color:#9fb3ff;
}

footer {
  margin-top: 40px;
  font-size: 12px;
  color: #777;
  text-align: center;
  max-width: 900px;
}
</style>
</head>

<body>

<!-- PUBLIC LANDING -->
<h1>BOMBO</h1>
<div class="subtitle">
Independent offer integrity signals.  
No tracking. No affiliation. No influence.
</div>

<div class="panel">
<h3>What BOMBO does</h3>
<p>
BOMBO analyzes how an offer is <strong>presented</strong> to users and detects
observable integrity signals such as artificial urgency, unclear terms or
inconsistent discount claims.
</p>

<h3>What BOMBO does NOT do</h3>
<ul>
<li>No price database checks</li>
<li>No merchant verification</li>
<li>No legal or financial judgement</li>
<li>No tracking or profiling</li>
</ul>

<p>
Deterministic. Explainable. Platform-neutral.
</p>
</div>

<!-- APPLICATION -->
<h2>Run Integrity Check</h2>

<div class="panel">
<textarea id="offerText" placeholder="Paste the offer text exactly as shown to users. Example: 50% OFF â€“ Only today! Was 100â‚¬, now 100â‚¬"></textarea>
<button onclick="runCheck()">Run BOMBO</button>
</div>

<!-- RESULT -->
<div class="panel" id="result" style="display:none;">
<div id="verdict"></div>

<h3>Detected integrity signals</h3>
<ul id="signals"></ul>

<h3>Audit log (explainable)</h3>
<ul id="audit"></ul>

<details>
<summary>Export â€“ Legal / Compliance</summary>
<pre id="export" style="white-space:pre-wrap;"></pre>
</details>

<details>
<summary>Open Rule Specification</summary>
<pre>
Ruleset: BOMBO-v1.1

â€¢ Deterministic
â€¢ Non-learning
â€¢ No personalization
â€¢ Same input â†’ same output

Signals are based only on observable offer presentation.
</pre>
</details>
</div>

<footer>
<strong>Disclaimer:</strong> BOMBO provides informational integrity signals only.
It does not verify actual pricing history, legality, product quality or merchant behavior.
No financial, legal or purchasing advice is given.<br><br>

<strong>Privacy:</strong> All analysis runs locally in the browser.
No data is stored, transmitted, tracked or shared.
</footer>

<script>
function runCheck() {
  const textRaw = document.getElementById("offerText").value;
  const text = textRaw.toLowerCase();

  let confidence = 100;
  const signals = [];
  const audit = [];

  function flag(signal, observation, rule, impact) {
    confidence -= impact;
    signals.push(signal);
    audit.push(
      `Signal: ${signal}\n` +
      `Observation: ${observation}\n` +
      `Rule: ${rule}\n` +
      `Effect: Integrity confidence reduced (-${impact})`
    );
  }

  /* 1ï¸âƒ£ URGENCY DETECTION */
  if (/(only today|ends today|last chance|limited|countdown)/.test(text)) {
    flag(
      "Artificial urgency",
      "Time-pressure language detected in offer text",
      "Artificial urgency reduces presentation integrity",
      15
    );
  }

  /* 2ï¸âƒ£ DISCOUNT CLAIM DETECTION */
  const percentMatch = text.match(/(\d{1,3})\s?%/);
  const hasDiscount = !!percentMatch;

  /* 2A â€“ Unverifiable discount */
  if (hasDiscount && !/(was|before|previously|instead of)/.test(text)) {
    flag(
      "Unverifiable discount claim",
      "Percentage discount present without reference price",
      "Discount claims require reference context",
      15
    );
  }

  /* 2B â€“ Discount consistency logic */
  const priceMatches = text.match(/(\d+[.,]?\d*)\s?(â‚¬|\$|usd|eur)/g);
  if (hasDiscount && priceMatches && priceMatches.length >= 2) {
    const prices = priceMatches.map(p => parseFloat(p));
    if (prices[0] <= prices[1]) {
      flag(
        "Inconsistent discount structure",
        "Reference price is equal to or lower than current price",
        "Inconsistent pricing structure reduces integrity",
        20
      );
    }
  }

  /* 3ï¸âƒ£ TRANSPARENCY */
  if (/(no refunds|terms apply|conditions apply)/.test(text)) {
    flag(
      "Opaque conditions",
      "Restrictions mentioned without clear explanation",
      "Unclear terms reduce integrity",
      10
    );
  }

  /* 4ï¸âƒ£ EMOTIONAL EXAGGERATION */
  if (/(best ever|guaranteed|no risk|perfect deal)/.test(text)) {
    flag(
      "Emotional exaggeration",
      "Subjective or absolute marketing language detected",
      "Exaggeration reduces informational integrity",
      5
    );
  }

  /* SAFETY FLOOR */
  confidence = Math.max(0, confidence);

  /* VERDICT */
  let verdictText = "ðŸŸ¢ Integrity signals appear consistent";
  let cls = "green";

  if (confidence < 80) {
    verdictText = "ðŸŸ  Integrity signals mixed";
    cls = "yellow";
  }
  if (confidence < 50) {
    verdictText = "ðŸ”´ Integrity signals weak";
    cls = "red";
  }

  document.getElementById("result").style.display = "block";
  document.getElementById("verdict").innerHTML =
    `<span class="badge ${cls}">${verdictText}</span>`;

  renderList("signals", signals.length ? signals : ["No significant integrity signals detected"]);
  renderList("audit", audit.length ? audit : ["No integrity rules triggered"]);

  document.getElementById("export").textContent =
`Verdict: ${verdictText}
Ruleset: BOMBO-v1.1

Audit log:
${audit.join("\n\n")}

Methodology:
Deterministic, rule-based, local execution.
No tracking. No personalization.`;
}

function renderList(id, list) {
  const el = document.getElementById(id);
  el.innerHTML = "";
  list.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    el.appendChild(li);
  });
}
</script>

</body>
</html>