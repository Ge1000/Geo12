<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>DealScope â€“ Universal Affiliate Scanner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<style>
body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:#0f1220;
  color:#fff;
  margin:0;
  padding:20px;
}

h1 { margin-bottom:5px; }
.subtitle { color:#aaa; margin-bottom:6px; }
.status { font-size:12px; color:#9ca3af; margin-bottom:15px; }

.controls {
  display:flex;
  gap:10px;
  margin:15px 0;
}

select {
  padding:8px;
  border-radius:6px;
  border:none;
}

.stats {
  margin:15px 0;
  padding:14px;
  background:#161a33;
  border-radius:10px;
}

table {
  width:100%;
  border-collapse:collapse;
  background:#161a33;
  border-radius:12px;
  overflow:hidden;
}

th, td {
  padding:12px;
  border-bottom:1px solid #2a2f55;
  vertical-align:top;
}

th { background:#1d2245; }

tr:hover { background:#1b2050; }

.badge {
  padding:4px 8px;
  border-radius:6px;
  font-size:12px;
  font-weight:700;
  display:inline-block;
}

.badge.green { background:#22c55e; color:#000; }
.badge.blue { background:#2563eb; }
.badge.orange { background:#f97316; color:#000; }
.badge.red { background:#dc2626; }

.buy-btn {
  background:#22c55e;
  color:#000;
  border:none;
  padding:8px 14px;
  border-radius:6px;
  font-weight:700;
  cursor:pointer;
}

.why {
  font-size:12px;
  color:#cbd5f5;
  margin-top:6px;
}

.verdict {
  margin-top:6px;
}

footer {
  margin-top:30px;
  font-size:12px;
  color:#777;
  text-align:center;
}
</style>
</head>

<body>

<h1>DealScope</h1>
<div class="subtitle">Universal affiliate scanner Â· Auto-feed engine</div>
<div class="status">ðŸŸ¢ Affiliate-quality filter active Â· No accounts Â· No user tracking</div>

<div class="stats" id="stats"></div>

<div class="controls">
  <select id="sortSelect" onchange="applySort()">
    <option value="earn">ðŸ’° Best for affiliate</option>
    <option value="discount">ðŸ”¥ Best discount</option>
    <option value="commission">ðŸ“ˆ Highest commission</option>
    <option value="trust">ðŸ›¡ Highest trust</option>
  </select>
</div>

<table>
<thead>
<tr>
  <th>Product</th>
  <th>Price</th>
  <th>Market</th>
  <th>Discount</th>
  <th>We earn (affiliate)</th>
  <th>Verdict</th>
  <th>Action</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

<footer>
We earn commission from vendors when users buy Â· Users never pay extra Â· No financial advice
</footer>

<script>
let clicks = Number(localStorage.getItem("clicks")) || 0;
let revenue = Number(localStorage.getItem("revenue")) || 0;

let feed = [
  { name:"Nike Air Zoom Pegasus", price:89, market:129, store:"Nike", trust:95, commission:0.04, url:"https://nike.com" },
  { name:"Oversized Hoodie", price:39, market:69, store:"Zalando", trust:90, commission:0.08, url:"https://zalando.com" },
  { name:"Wireless Headphones", price:59, market:99, store:"Amazon", trust:92, commission:0.04, url:"https://amazon.com" },
  { name:"AI SEO Toolkit", price:49, market:99, store:"AppSumo", trust:80, commission:0.30, url:"https://appsumo.com" }
];

const discount = p =>
  p.market > 0 ? Math.round((1 - p.price / p.market) * 100) : 0;

const earn = p =>
  +(p.price * p.commission).toFixed(2);

const isWorthAffiliate = p =>
  earn(p) >= 2 && discount(p) >= 20 && p.trust >= 70;

function verdict(p){
  if(discount(p) >= 40 && earn(p) >= 3 && p.trust >= 85)
    return { text:"WORTH IT", cls:"green" };

  if(discount(p) >= 25 && earn(p) >= 2)
    return { text:"OK DEAL", cls:"orange" };

  return { text:"SKIP", cls:"red" };
}

function whyDeal(p){
  let reasons = [];
  if(discount(p) >= 40) reasons.push("big discount");
  if(p.commission >= 0.1) reasons.push("high commission");
  if(p.trust >= 90) reasons.push("trusted brand");
  if(reasons.length === 0) reasons.push("balanced value");
  return "Why this deal: " + reasons.join(", ");
}

function track(p){
  clicks++;
  revenue += earn(p);
  localStorage.setItem("clicks", clicks);
  localStorage.setItem("revenue", revenue);
  renderStats();
  window.open(p.url, "_blank");
}

function renderStats(){
  document.getElementById("stats").innerHTML = `
    ðŸ”— Clicks: <b>${clicks}</b><br>
    ðŸ’° Estimated affiliate revenue: <b>$${revenue.toFixed(2)}</b>
  `;
}

function applySort(){
  let list = feed.filter(isWorthAffiliate);
  const v = document.getElementById("sortSelect").value;

  if(v==="earn") list.sort((a,b)=>earn(b)-earn(a));
  if(v==="discount") list.sort((a,b)=>discount(b)-discount(a));
  if(v==="commission") list.sort((a,b)=>b.commission-a.commission);
  if(v==="trust") list.sort((a,b)=>b.trust-a.trust);

  render(list);
}

function render(list){
  const tb = document.getElementById("tableBody");
  tb.innerHTML = "";

  list.forEach(p=>{
    const v = verdict(p);
    tb.innerHTML += `
      <tr>
        <td>
          <b>${p.name}</b><br>
          <small>${p.store}</small>
          <div class="why">${whyDeal(p)}</div>
        </td>
        <td>$${p.price}</td>
        <td>$${p.market}</td>
        <td><span class="badge green">-${discount(p)}%</span></td>
        <td><b>$${earn(p)}</b></td>
        <td class="verdict">
          <span class="badge ${v.cls}">${v.text}</span>
        </td>
        <td>
          <button class="buy-btn" onclick='track(${JSON.stringify(p)})'>
            Buy
          </button>
        </td>
      </tr>
    `;
  });

  renderStats();
}

applySort();
</script>

</body>
</html>