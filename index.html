<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>DealScope â€“ Universal Affiliate Scanner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<style>
body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:#0f1220;
  color:#fff;
  margin:0;
  padding:20px;
}

h1 { margin-bottom:5px; }
.subtitle { color:#aaa; margin-bottom:10px; }

.status {
  font-size:12px;
  color:#9ca3af;
  margin-bottom:15px;
}

.filters {
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:15px;
}

select {
  padding:8px 10px;
  border-radius:6px;
  border:none;
}

table {
  width:100%;
  border-collapse:collapse;
  background:#161a33;
  border-radius:10px;
  overflow:hidden;
}

th, td {
  padding:12px;
  border-bottom:1px solid #2a2f55;
  white-space:nowrap;
}

th {
  background:#1d2245;
}

tr:hover { background:#1b2050; }

.badge {
  padding:4px 8px;
  border-radius:6px;
  font-size:12px;
  font-weight:600;
  display:inline-block;
}

.badge.green { background:#22c55e; color:#000; }
.badge.blue { background:#2563eb; }
.badge.yellow { background:#eab308; color:#000; }

.buy-btn {
  background:#22c55e;
  color:#000;
  border:none;
  padding:8px 12px;
  border-radius:6px;
  font-weight:600;
  cursor:pointer;
}

.stats {
  margin:15px 0;
  padding:12px;
  background:#161a33;
  border-radius:8px;
}

footer {
  margin-top:30px;
  font-size:12px;
  color:#777;
  text-align:center;
}
</style>
</head>

<body>

<h1>DealScope</h1>
<div class="subtitle">Universal affiliate deal scanner (Amazon-first)</div>
<div class="status">âœ… Demo Â· All categories Â· Affiliate model</div>

<!-- FILTERS (1) -->
<div class="filters">
  <select id="categoryFilter" onchange="render()">
    <option value="all">All categories</option>
    <option value="Shoes">Shoes</option>
    <option value="Fashion">Fashion</option>
    <option value="Electronics">Electronics</option>
    <option value="Digital">Digital</option>
  </select>

  <select id="sourceFilter" onchange="render()">
    <option value="all">All sources</option>
    <option value="Amazon">Amazon</option>
    <option value="Zalando">Zalando</option>
    <option value="AppSumo">AppSumo</option>
  </select>
</div>

<div class="stats" id="stats"></div>

<table>
<thead>
<tr>
  <th>Product</th>
  <th>Price</th>
  <th>Market</th>
  <th>Discount</th>
  <th>Shipping</th>
  <th>Returns</th>
  <th>Trust</th>
  <th>You earn</th>
  <th>Action</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

<footer>
Some links are affiliate links. Information only. No financial advice.
</footer>

<script>
/* ========= PRODUCTS (2) ========= */

const products = [
  {
    name:"Nike Air Zoom Pegasus",
    price:89,
    marketPrice:129,
    category:"Shoes",
    source:"Amazon",
    affiliate:"https://www.amazon.com/?tag=dealscope-20",
    shipping:"Fast",
    returns:"Easy",
    trust:95,
    commission:0.04
  },
  {
    name:"Oversized Hoodie",
    price:39,
    marketPrice:69,
    category:"Fashion",
    source:"Zalando",
    affiliate:"https://www.zalando.com",
    shipping:"Standard",
    returns:"Easy",
    trust:90,
    commission:0.08
  },
  {
    name:"Wireless Headphones",
    price:59,
    marketPrice:99,
    category:"Electronics",
    source:"Amazon",
    affiliate:"https://www.amazon.com/?tag=dealscope-20",
    shipping:"Fast",
    returns:"Easy",
    trust:92,
    commission:0.04
  },
  {
    name:"AI SEO Toolkit",
    price:49,
    marketPrice:99,
    category:"Digital",
    source:"AppSumo",
    affiliate:"https://appsumo.com/?ref=dealscope",
    shipping:"Instant",
    returns:"Limited",
    trust:80,
    commission:0.30
  }
];

/* ========= TRACKING (3) ========= */

let clicks = Number(localStorage.getItem("clicks") || 0);
let revenue = Number(localStorage.getItem("revenue") || 0);

function discount(p){
  return Math.round((1 - p.price / p.marketPrice) * 100);
}

function badgeShipping(s){
  return s === "Fast" || s === "Instant"
    ? `<span class="badge green">${s}</span>`
    : `<span class="badge blue">${s}</span>`;
}

function badgeReturns(r){
  return r === "Easy"
    ? `<span class="badge green">Easy</span>`
    : `<span class="badge yellow">Limited</span>`;
}

function earn(p){
  return (p.price * p.commission).toFixed(2);
}

function track(index){
  const p = products[index];
  clicks++;
  revenue += p.price * p.commission;
  localStorage.setItem("clicks", clicks);
  localStorage.setItem("revenue", revenue);
  renderStats();
  window.open(p.affiliate, "_blank");
}

function renderStats(){
  document.getElementById("stats").innerHTML = `
    ðŸ”— Total clicks: <b>${clicks}</b><br>
    ðŸ’° Estimated earnings: <b>$${revenue.toFixed(2)}</b>
  `;
}

function render(){
  const tb = document.getElementById("tableBody");
  tb.innerHTML = "";

  const cat = categoryFilter.value;
  const src = sourceFilter.value;

  products.forEach((p,i)=>{
    if ((cat !== "all" && p.category !== cat) ||
        (src !== "all" && p.source !== src)) return;

    tb.innerHTML += `
      <tr>
        <td>${p.name}<br><small>${p.category} Â· ${p.source}</small></td>
        <td>$${p.price}</td>
        <td>$${p.marketPrice}</td>
        <td><span class="badge green">-${discount(p)}%</span></td>
        <td>${badgeShipping(p.shipping)}</td>
        <td>${badgeReturns(p.returns)}</td>
        <td><span class="badge blue">${p.trust}</span></td>
        <td><b>$${earn(p)}</b></td>
        <td><button class="buy-btn" onclick="track(${i})">Buy</button></td>
      </tr>
    `;
  });

  renderStats();
}

render();
</script>

</body>
</html>