<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ThinSkin</title>

<!-- SHARE / PREVIEW FIX (WhatsApp, iMessage, Facebook) -->
<meta property="og:title" content="ThinSkin" />
<meta property="og:description" content="One small discomfort challenge per day. No pressure." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://012-nine.vercel.app" />
<meta property="og:image" content="https://012-nine.vercel.app/preview.png" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="ThinSkin" />
<meta name="twitter:description" content="Daily exposure, no pressure." />
<meta name="twitter:image" content="https://012-nine.vercel.app/preview.png" />
<!-- END SHARE FIX -->

<style>
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    background: radial-gradient(circle at top, #0f172a, #020617);
    color: #e5e7eb;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .card {
    background: rgba(15,23,42,0.85);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 28px;
    width: 90%;
    max-width: 420px;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.4);
  }

  h1 { margin: 0; font-size: 28px; }
  .subtitle { opacity: .7; margin: 8px 0 20px; }

  .challenge { font-size: 20px; margin-bottom: 14px; }
  .info {
    font-size: 14px;
    opacity: .65;
    margin-bottom: 20px;
  }

  button {
    width: 100%;
    padding: 14px;
    border-radius: 14px;
    border: none;
    background: #2563eb;
    color: white;
    font-size: 16px;
    cursor: pointer;
  }

  .links {
    margin-top: 18px;
    font-size: 14px;
    opacity: .7;
  }

  .links span {
    cursor: pointer;
    text-decoration: underline;
  }

  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.7);
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .modal-content {
    background: #020617;
    padding: 20px;
    border-radius: 14px;
    max-width: 500px;
    font-size: 14px;
    text-align: left;
  }

  .modal-content button {
    margin-top: 14px;
    background: #334155;
  }
</style>
</head>
<body>

<div class="card" id="app"></div>

<div class="modal" id="privacyModal">
  <div class="modal-content">
    <h3>Privacy Policy</h3>
    <p>
      ThinSkin does not collect personal data, track behavior, or store sensitive information.
      All progress is stored locally on your device.
    </p>
    <button onclick="closeModal('privacyModal')">Close</button>
  </div>
</div>

<div class="modal" id="disclaimerModal">
  <div class="modal-content">
    <h3>Disclaimer</h3>
    <p>
      This app is for educational and self-reflection purposes only.
      It is not medical advice, therapy, or mental health treatment.
      You may skip or stop any challenge at any time.
      If something feels unsafe, do not do it.
    </p>
    <button onclick="closeModal('disclaimerModal')">Close</button>
  </div>
</div>

<script>
const challenges = [
  "Maintain eye contact for 3 seconds.",
  "Say hello first in a short interaction.",
  "Speak slightly louder than usual.",
  "Post something imperfect.",
  "Leave a short comment online.",
  "Ask a simple question you already know.",
  "Share an idea before it feels ready.",
  "Send a message without overthinking it.",
  "Smile at a stranger.",
  "Accept a small mistake without fixing it.",

  "Pause before responding instead of rushing.",
  "Admit you don't know something.",
  "Share a draft instead of a final version.",
  "Let someone finish without interrupting.",
  "Say 'I’ll get back to you' instead of forcing an answer.",
  "Leave a typo uncorrected.",
  "Ask for clarification once.",
  "Say no to a small request.",
  "Express a neutral opinion.",
  "End a conversation politely first.",

  "Ask for help with something small.",
  "Let silence exist for 2 seconds.",
  "Send a short voice note.",
  "Share a personal preference.",
  "Ask someone how their day is.",
  "Respond without emojis.",
  "Post without checking likes later.",
  "Disagree politely once.",
  "Share something unfinished.",
  "Speak slower than usual.",

  "Let feedback sit without responding.",
  "Ask a follow-up question.",
  "Say ‘that makes sense’ even if unsure.",
  "Share a thought without justification.",
  "End a message without softening words.",
  "Say 'I’m not sure yet.'",
  "Let someone else lead the conversation.",
  "Express uncertainty calmly.",
  "Leave a conversation without overexplaining.",
  "Do nothing to fix discomfort today."
];

const FREE_LIMIT = 14;

const todayKey = new Date().toDateString();
let doneToday = localStorage.getItem("doneToday") === todayKey;
let completed = Number(localStorage.getItem("completed") || 0);

function getTodayChallenge() {
  return challenges[completed % challenges.length];
}

function render() {
  const app = document.getElementById("app");
  app.innerHTML = "";

  if (completed >= FREE_LIMIT) {
    app.innerHTML = `
      <h1>ThinSkin</h1>
      <p class="subtitle">Premium required</p>
      <p>Advanced challenges are locked.</p>
      <div class="links">
        <span onclick="shareApp()">Share</span> ·
        <span onclick="openModal('privacyModal')">Privacy</span> ·
        <span onclick="openModal('disclaimerModal')">Disclaimer</span>
      </div>
    `;
    return;
  }

  if (doneToday) {
    app.innerHTML = `
      <h1>ThinSkin</h1>
      <p class="subtitle">Daily exposure, no pressure</p>
      <p>Done for today. Come back tomorrow.</p>
      <div class="links">
        <span onclick="shareApp()">Share</span> ·
        <span onclick="openModal('privacyModal')">Privacy</span> ·
        <span onclick="openModal('disclaimerModal')">Disclaimer</span>
      </div>
    `;
    return;
  }

  app.innerHTML = `
    <h1>ThinSkin</h1>
    <p class="subtitle">Daily exposure, no pressure</p>

    <div class="challenge">${getTodayChallenge()}</div>

    <div class="info">
      Choose a safe, small version. You can skip or stop anytime.
    </div>

    <button onclick="markDone()">I did it</button>

    <div class="links">
      <span onclick="shareApp()">Share</span> ·
      <span onclick="openModal('privacyModal')">Privacy</span> ·
      <span onclick="openModal('disclaimerModal')">Disclaimer</span>
    </div>
  `;
}

function markDone() {
  localStorage.setItem("doneToday", todayKey);
  localStorage.setItem("completed", completed + 1);
  doneToday = true;
  completed++;
  render();
}

/* === MODIFICAT DOAR SHARE === */
function shareApp() {
  const variants = [
    "I found this app called ThinSkin.\nOne small discomfort challenge per day.\nNo pressure.\n\nSurprisingly addictive.",
    "This is weird but interesting.\nThinSkin gives you ONE tiny challenge per day.\nThat’s it.\n\nDidn’t expect to like it.",
    "ThinSkin.\nDaily discomfort.\nZero pressure.\n\nTry it."
  ];

  const text = variants[Math.floor(Math.random() * variants.length)];

  if (navigator.share) {
    navigator.share({
      title: "ThinSkin",
      text: text,
      url: window.location.href
    });
  } else {
    alert(text + "\n\n" + window.location.href);
  }
}
/* === END SHARE === */

function openModal(id) {
  document.getElementById(id).style.display = "flex";
}

function closeModal(id) {
  document.getElementById(id).style.display = "none";
}

render();
</script>
</body>
</html>